<html>
<head>
    <style>
        body, body {
            padding: 0;
            margin: 0;
        }

        canvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
<script>
const canvas = document.createElement('canvas')
const ctx = canvas.getContext('2d')
document.body.appendChild(canvas)

canvas.width = window.innerWidth
canvas.height = window.innerHeight

ctx.fillStyle = 'lightblue'
ctx.fillRect(0, 0, canvas.width, canvas.height)

let x = 0
let y = 0
let isMouseDown = false

const enemies = []
while (enemies.length < 10) {
    enemies.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        vx: Math.random() > 0.5 ? 1 : -1,
        vy: Math.random() > 0.5 ? 1 : -1,
        size: Math.random() * 20 + 10
    })
}
/**
enemies.length
enemies.push({
    x: 5, y: 6,
    vx: 1, vy: 1
})
Math.random() * canvas.width
enemies.splice(i, 1)
const enemy = enemies[i]
enemies.forEach(function (enemy) {

})

function collision (obj1, obj2) {
    ...
    return ...
}
(obj1, obj2) => { ... }
obj1 => { ... }
**/

const speed = 3
function render () {
    requestAnimationFrame(render)
    ctx.fillStyle = 'lightblue'
    ctx.fillRect(0, 0, canvas.width, canvas.height)

    // player logic
    if (keyboard.a) x -= speed
    if (keyboard.d) x += speed
    if (keyboard.w) y -= speed
    if (keyboard.s) y += speed

    // player render
    ctx.fillStyle = isMouseDown ? 'cyan' : 'blue'
    const size = 20
    ctx.fillRect(x - size/2, y - size/2, size, size)

    // enemy logic
    enemies.forEach(enemy => {
        enemy.x += enemy.vx
        enemy.y += enemy.vy
        if (enemy.x < 0 || canvas.width < enemy.x) enemy.vx *= -1
        if (enemy.y < 0 || canvas.height < enemy.y) enemy.vy *= -1
    })

    // enemy render
    enemies.forEach(enemy => {
        ctx.fillStyle = 'red'
        ctx.fillRect(
            enemy.x - enemy.size/2,
            enemy.y - enemy.size/2,
            enemy.size,
            enemy.size
        )
    })
}
requestAnimationFrame(render)

const keyboard = {}
document.addEventListener('keydown', function (event) {
    keyboard[event.key] = true
})
document.addEventListener('keyup', function (event) {
    keyboard[event.key] = false
})

</script>
</body>
</html>